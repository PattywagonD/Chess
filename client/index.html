<!DOCTYPE html>
<html>
<head>
  <title>CHESS</title>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/2.1.1/socket.io.dev.js"></script> 
  <link href='https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Material+Icons' rel="stylesheet">
  <link href="vuetify.min.css" rel="stylesheet">
  <link href="style.css" rel="stylesheet">

</head>
<body>
  <div id="app">
    <v-app>
      <v-content v-if="noGame">
        <v-container>
          <v-layout wrap row align-center justify-center>
          <v-flex xs12>
            <v-card  class="start_screen">
              <h1>Let's Play Chess</font></h1>
              <v-form ref="form" lazy-validation>
                <v-text-field v-model="username" label="Username" required></v-text-field>
                <v-btn @click="startGame()" color="info" class="button"> PLAY </v-btn>
              </v-form>
            </v-card>
            </v-flex>
          </v-layout>
        </v-container>
      </v-content>


      <v-content v-if = "isGame">

        <v-container grid-list-xl text-xs-center>
                
          <v-btn flat fab small absolute left >
            <v-icon x-large>settings</v-icon>
          </v-btn>
               

        <!-- Opponent's Display -->
          <v-layout wrap row align-center justify-center >
            <v-flex xs8>
            <v-card  >
              <v-progress-linear  :active= 'opp' :indeterminate= 'opp'></v-progress-linear>
              <v-card-title><h1>{{opponent}}</h1><v-spacer></v-spacer
              ><div v-for="piece in oppPieces"> <img :src="piece"></div>
              </v-card-title>
            </v-card>
            </v-flex>
          </v-layout>

          <!-- Layout for Chat Game and Moves -->
          <v-layout>

  

          
              <!-- Layout for Chat window -->
            <v-flex class="sidebars" s3>
              <v-toolbar dark color = blue>
                  <v-toolbar-title class="white--text">Chat</v-toolbar-title>
                </v-toolbar>
                  <v-card>
                    <v-card-text>
                      <v-list >
                        <v-list-tile v-for="item in messages" avatar>
                          <v-list-tile-avatar>
                            <span class="avatar">C</span>
                          </v-list-tile-avatar>
                          <v-list-tile-content>
                            <v-list-tile-title v-text="item"></v-list-tile-title>
                          </v-list-tile-content>
                        </v-list-tile>
                      </v-list>                             
                    </v-card-text>
                  </v-card>
                  <v-card><v-card-text>{{feedback}}</v-card-text></v-card>
              <v-toolbar>
                <v-text-field v-model="message" placeholder="new message"></v-text-field>
                <v-btn icon @click="sendMessage()">
                  <v-icon>send</v-icon>
                </v-btn>
              </v-toolbar>
            </v-flex>

            <!-- Start of the Board -->
            <v-flex xs12 >
              <v-card class="white_b">
                <v-card row flat color="transparent" class="nums" >
                  <v-layout wrap row align-center justify-center>
                    <div class="letts" >
                      <h2>a</h2>
                      <h2>b</h2>
                      <h2>c</h2>
                      <h2>d</h2>
                      <h2>e</h2>
                      <h2>f</h2>
                      <h2>g</h2>
                      <h2>h</h2>
                    </div>
                       <div class="col">
                         <h2>{{ getGridNum(8) }}</h2>
                        <h2>{{ getGridNum(7) }}</h2>
                        <h2>{{ getGridNum(6) }}</h2>
                        <h2>{{ getGridNum(5) }}</h2>
                        <h2>{{ getGridNum(4) }}</h2>
                        <h2>{{ getGridNum(3) }}</h2>
                        <h2>{{ getGridNum(2) }}</h2>
                        <h2>{{ getGridNum(1) }}</h2>
                    </div>

                    <v-flex xs1 v-for="i in 8" class="tile">
                      <v-card class="tile" v-for="j in 8"  dark  tile v-bind:color="getColor(i, j)">
                        <div>
                        <div v-if = "getMoves(i,j)" class="overlay">Moveable</div> 
                        <v-btn flat fab @click= "sendClick(i,j)">                       
                          <img v-bind:src = "getImage(i, j)">
                        </v-btn>
                        </div>
                      </v-card>
                    </v-flex>
                    <div class="col">
                      <h2>&nbsp;</h2>
                      <h2>&nbsp;</h2>
                      <h2>&nbsp;</h2>
                      <h2>&nbsp;</h2>
                      <h2>&nbsp;</h2>
                      <h2>&nbsp;</h2>
                      <h2>&nbsp;</h2>
                      <h2>&nbsp;</h2>
                    </div>
                    <div class="letts" >
                      <h2>&nbsp;</h2>
                      <h2>&nbsp;</h2>
                      <h2>&nbsp;</h2>
                      <h2>&nbsp;</h2>
                      <h2>&nbsp;</h2>
                      <h2>&nbsp;</h2>
                      <h2>&nbsp;</h2>
                      <h2>&nbsp;</h2>
                    </div>
                   </v-layout>
                </v-card>
              </v-card>
              </v-flex>







              <!-- Start of History Panel -->
            <v-flex class="sidebars" s3>
              <v-toolbar dark color = blue>
                  <v-toolbar-title class="white--text">History</v-toolbar-title>
                </v-toolbar>
                      <v-card>
                        <v-card-text>
                          <h4>Game Opening: Something</h4>
                          <p1>{{history}}</p1>                            
                        </v-card-text>
                      </v-card>
                  <v-toolbar>
                    <v-dialog v-model="dialog" width = "500">
                      <v-btn icon slot="activator">
                        <v-icon>info</v-icon>
                      </v-btn>
                  <v-card>
                    <v-card-title
                      class="headline grey lighten-2"
                      primary-title
                    >
                      Make a Move with Keyboard
                    </v-card-title>
                      <v-card-text>example a3</v-card-text>
                    <v-divider></v-divider>
                    <v-card-actions>
                      <v-spacer></v-spacer>
                      <v-btn color="primary" flat @click="dialog = false"> OK </v-btn>
                    </v-card-actions>
                  </v-card>
                  </v-dialog>
                  <v-text-field placeholder="make a move"></v-text-field>
                </v-toolbar>
            </v-flex>

          </v-layout>

          <!-- User's Display -->
        <v-layout wrap row align-center justify-center>
          <v-flex xs12 >
            <v-card right> 
              <v-card-title><h1>{{username}}</h1><v-spacer></v-spacer>
                <div v-for="piece in pieces"> <img :src="piece"></div>
              </v-card-title>
            </v-card>
          </v-flex>

              <!-- Mobile Query for History Panel -->
              <v-flex class="mobile" xs12 >
                  <v-expansion-panel>
                    <v-expansion-panel-content>
                      <div slot="header"><h2>History</h2></div>
                      <v-card>
                       <v-card>
                        <v-card-text class="grey lighten-3">{{history}}</v-card-text>
                        </v-card>
                      <v-toolbar>
                        <v-text-field placeholder="make a move"></v-text-field>
                        <v-btn icon>
                          <v-icon>send</v-icon>
                        </v-btn>
                      </v-toolbar>
                    </v-expansion-panel-content>
                  </v-expansion-panel>
              </v-flex>

              <!-- Mobile Query for Chat Panel -->
              <v-flex class ="mobile" xs12 >
                <v-expansion-panel>
                  <v-expansion-panel-content>
                    <div slot="header"><h2>Chat</h2></div>
                    <v-card>
                      <v-card-text>
                        <v-list >
                          <v-list-tile v-for="item in messages" avatar @click="">
                            <v-list-tile-avatar>
                              <span class="avatar">C</span>
                            </v-list-tile-avatar>
                            <v-list-tile-content>
                              <v-list-tile-title v-text="item"></v-list-tile-title>
                            </v-list-tile-content>
                          </v-list-tile>
                        </v-list>                             
                      </v-card-text>
                    </v-card>
                <v-toolbar>
                  <v-text-field placeholder="new message"></v-text-field>
                  <v-btn icon>
                    <v-icon>send</v-icon>
                  </v-btn>
                </v-toolbar>
                  </v-expansion-panel-content>
                </v-expansion-panel>
              </v-flex>
        </v-layout>

        </v-container>
      </v-content>
    </v-app>
  </div>
  <script src="vue.js"></script>
  <script src="vuetify.js"></script>
  <script src="index.js"></script>
</body>
</html>